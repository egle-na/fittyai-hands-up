(function(e){function t(t){for(var s,o,i=t[0],p=t[1],c=t[2],d=0,u=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(s in p)Object.prototype.hasOwnProperty.call(p,s)&&(e[s]=p[s]);l&&l(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,i=1;i<n.length;i++){var p=n[i];0!==r[p]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},r={app:0},a=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/fittyai-hands-up/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],p=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=p;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"115c":function(e,t,n){},"300b":function(e,t,n){"use strict";n("115c")},"35b8":function(e,t,n){e.exports=n.p+"media/Well_Done_sound.e8c2ad69.mp3"},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("2b0e"),r=function(){var e=this,t=e._self._c;return t("main",{staticClass:"container"},[t("div",{staticClass:"side-wrapper"},[t("p",{attrs:{title:"Make sure your arms are visible to your camera"}},[e._v("Raise your arms!")]),t("p",[t("span",{class:{hidden:!e.leftHandUp}},[e._v("âœ‹")]),t("span",{class:{hidden:!e.rightHandUp}},[e._v("ðŸ¤š")])]),t("p",{staticClass:"success-msg",class:{hidden:!e.bothArmsUp}},[e._v("Well Done!")]),t("audio",{ref:"wellDoneAudio",attrs:{src:n("35b8"),type:"audio/mpeg"}})]),t("div",{staticClass:"video-wrapper"},[t("video",{ref:"video",attrs:{muted:"",autoplay:"",playsinline:""},domProps:{srcObject:e.videoStream,muted:!0}}),e.accessDenied?t("p",{staticClass:"no-camera-msg"},[e._v("Unable to access your camera.")]):e._e()])])},a=[],o=n("96e5"),i=n("141c"),p={name:"App",data(){return{leftHandUp:!1,rightHandUp:!1,bothArmsUp:0,videoStream:!1,accessDenied:!1}},mounted(){this.accessCamera(),this.enableMpPose()},methods:{accessCamera(){navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{this.videoStream=e}).catch(e=>{console.error(e),this.accessDenied=!0})},enableMpPose(){const e=this.$refs.video,t=new o["Pose"]({locateFile:e=>"https://cdn.jsdelivr.net/npm/@mediapipe/pose/"+e});t.setOptions({modelComplexity:1,smoothLandmarks:!0,enableSegmentation:!0,smoothSegmentation:!0,minDetectionConfidence:.5,minTrackingConfidence:.5}),t.onResults(this.onResults);const n=new i["Camera"](e,{onFrame:async()=>{await t.send({image:e})},width:1280,height:720});n.start().catch(()=>{this.accessDenied=!0})},onResults(e){e.poseLandmarks&&(this.leftArmRisen(e),this.rightArmRisen(e),this.leftHandUp&&this.rightHandUp?(this.bothArmsUp++,10===this.bothArmsUp&&this.playWellDoneAudio()):this.bothArmsUp=0)},leftArmRisen(e){this.leftHandUp=e.poseLandmarks[11].y>e.poseLandmarks[13].y&&e.poseLandmarks[13].y>e.poseLandmarks[15].y},rightArmRisen(e){this.rightHandUp=e.poseLandmarks[12].y>e.poseLandmarks[14].y&&e.poseLandmarks[13].y>e.poseLandmarks[16].y},playWellDoneAudio(){this.$refs.wellDoneAudio.play()}}},c=p,l=(n("300b"),n("2877")),d=Object(l["a"])(c,r,a,!1,null,null,null),u=d.exports;s["a"].config.productionTip=!1,new s["a"]({render:e=>e(u)}).$mount("#app")}});
//# sourceMappingURL=app.14d51406.js.map